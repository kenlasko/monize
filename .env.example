# Monize Environment Configuration
#
# Copy this file to .env and update the values:
#   cp .env.example .env
#
# Development:  docker compose up -d
# Production:   docker compose -f docker-compose.prod.yml up -d

# ==============================================
# Database
# ==============================================

POSTGRES_DB=monize
POSTGRES_USER=monize_user
POSTGRES_PASSWORD=changeme_in_production

# ==============================================
# Application
# ==============================================

NODE_ENV=production

# JWT Authentication
# REQUIRED: Generate a secure secret (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=15m

# ==============================================
# URLs & Ports
# ==============================================

# Docker host port mappings
# Backend accessible at http://localhost:3000
# Frontend accessible at http://localhost:3001
BACKEND_PORT=3000
FRONTEND_PORT=3001

# Public URL where the frontend is accessible
# Production example: https://your-domain.com
PUBLIC_APP_URL=http://localhost:3001

# CORS allowed origin (should match PUBLIC_APP_URL)
CORS_ORIGIN=http://localhost:3001

# ==============================================
# Authentication
# ==============================================

# Local email/password auth (set to 'false' for OIDC-only)
LOCAL_AUTH_ENABLED=true

# Allow new account registration (set to 'false' to lock down)
REGISTRATION_ENABLED=true

# Force all local users to set up 2FA
FORCE_2FA=false

# ==============================================
# OIDC / OpenID Connect (Optional)
# ==============================================

# Leave empty to disable OIDC and use only local authentication.
# Supports: Pocket-ID, Authentik, Authelia, any standard OIDC provider.
#
# OIDC_ISSUER_URL: Provider's base URL (NOT the .well-known URL)
#   Pocket-ID:  https://pocket-id.example.com
#   Authentik:  https://auth.example.com/application/o/your-app/
#   Authelia:   https://auth.example.com
OIDC_ISSUER_URL=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
# Callback URL must point to the backend API
OIDC_CALLBACK_URL=http://localhost:3000/api/v1/auth/oidc/callback

# ==============================================
# Email Notifications (Optional)
# ==============================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=noreply@monize.app

# ==============================================
# Demo Mode (Optional)
# ==============================================

# Set to 'true' to run Monize in demo mode.
# Demo mode uses a fixed login (demo@monize.com / Demo123!),
# disables registration, password changes, and profile editing,
# and resets all data daily at 4:00 AM UTC.
DEMO_MODE=false

# ==============================================
# AI Integration (Optional)
# ==============================================

# Encryption key for AI provider API keys stored in database.
# Required if users will configure cloud AI providers (Anthropic, OpenAI).
# Generate with: openssl rand -hex 32
# AI_ENCRYPTION_KEY=

# Optional: System-level default AI provider (users can override)
# AI_DEFAULT_PROVIDER=       # 'anthropic', 'openai', 'ollama', 'openai-compatible'
# AI_DEFAULT_MODEL=          # Default model for the provider
# AI_DEFAULT_API_KEY=        # System-wide API key (if admin wants to provide one)
# AI_DEFAULT_BASE_URL=       # For Ollama or compatible endpoints

# Maximum AI provider configurations per user (default: 10)
# AI_MAX_PROVIDERS_PER_USER=10

# ==============================================
# Frontend - Local Development Only
# ==============================================

# These are set automatically by docker-compose.
# Only needed when running 'next dev' outside Docker.
# If used, copy to frontend/.env.local instead of setting here.
#
# INTERNAL_API_URL=http://localhost:3000
# NEXT_PUBLIC_LOG_LEVEL=info
